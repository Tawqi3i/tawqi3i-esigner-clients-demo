@page "/esigner/callback"

@inject NavigationManager Navigation

@code {
    [SupplyParameterFromQuery]
    public string? PinVerifyUrl { get; set; }

    [SupplyParameterFromQuery]
    public string? NationalId { get; set; }

    [SupplyParameterFromQuery]
    public string? SessionId { get; set; }

    [SupplyParameterFromQuery]
    public bool? ReadyToSign { get; set; }

    protected override void OnInitialized()
    {
        if (!string.IsNullOrEmpty(PinVerifyUrl))
        {
            Navigation.NavigateTo(PinVerifyUrl, true);
        }
        else if (ReadyToSign.Value)
        {
            Navigation.NavigateTo("/sign/" + SessionId, true);
        }
        else
        {
            Navigation.NavigateTo("/", true);
        }
    }

}
